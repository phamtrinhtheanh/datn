import{P as F,c as T}from"./index-Bi_qipny.js";import{c as K,b as A,P as E,u as P}from"./useForwardPropsEmits-CcLnhiEM.js";import{d as V,c as b,A as M,B as j,h,o as y,w as p,b as g,u as a,n as w,D,i as N,p as S,q as O,l as z,U}from"./app-Cdi_seLk.js";import{a as R,u as L}from"./useForwardExpose-BEz30n0G.js";import{a as B,i as I,C as H}from"./check-BP9UBmzw.js";import{u as J}from"./useFormControl-BtsRjYEG.js";import{u as Q}from"./Collection-DZ2PJz9c.js";import{i as W,g as X,w as Y,f as Z}from"./RovingFocusGroup-BUD0FIFP.js";import{_ as G}from"./VisuallyHiddenInput-Cwoffclv.js";function x(l,r){return B(l)?!1:Array.isArray(l)?l.some(e=>I(e,r)):I(l,r)}const[ee,ve]=K("CheckboxGroupRoot");function k(l){return l==="indeterminate"}function _(l){return k(l)?"indeterminate":l?"checked":"unchecked"}const ae=V({__name:"RovingFocusItem",props:{tabStopId:{},focusable:{type:Boolean,default:!0},active:{type:Boolean},allowShiftKey:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(l){const r=l,e=W(),d=A(),c=b(()=>r.tabStopId||d),v=b(()=>e.currentTabStopId.value===c.value),{getItems:s,CollectionItem:u}=Q();M(()=>{r.focusable&&e.onFocusableItemAdd()}),j(()=>{r.focusable&&e.onFocusableItemRemove()});function m(t){if(t.key==="Tab"&&t.shiftKey){e.onItemShiftTab();return}if(t.target!==t.currentTarget)return;const n=X(t,e.orientation.value,e.dir.value);if(n!==void 0){if(t.metaKey||t.ctrlKey||t.altKey||!r.allowShiftKey&&t.shiftKey)return;t.preventDefault();let i=[...s().map(f=>f.ref).filter(f=>f.dataset.disabled!=="")];if(n==="last")i.reverse();else if(n==="prev"||n==="next"){n==="prev"&&i.reverse();const f=i.indexOf(t.currentTarget);i=e.loop.value?Y(i,f+1):i.slice(f+1)}D(()=>Z(i))}}return(t,n)=>(y(),h(a(u),null,{default:p(()=>[g(a(F),{tabindex:v.value?0:-1,"data-orientation":a(e).orientation.value,"data-active":t.active?"":void 0,"data-disabled":t.focusable?void 0:"",as:t.as,"as-child":t.asChild,onMousedown:n[0]||(n[0]=i=>{t.focusable?a(e).onItemFocus(c.value):i.preventDefault()}),onFocus:n[1]||(n[1]=i=>a(e).onItemFocus(c.value)),onKeydown:m},{default:p(()=>[w(t.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}}),[te,oe]=K("CheckboxRoot"),se=V({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null],default:void 0},disabled:{type:Boolean},value:{default:"on"},id:{},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(l,{emit:r}){const e=l,d=r,{forwardRef:c,currentElement:v}=R(),s=ee(null),u=L(e,"modelValue",d,{defaultValue:e.defaultValue,passive:e.modelValue===void 0}),m=b(()=>(s==null?void 0:s.disabled.value)||e.disabled),t=b(()=>B(s==null?void 0:s.modelValue.value)?u.value==="indeterminate"?"indeterminate":u.value:x(s.modelValue.value,e.value));function n(){if(B(s==null?void 0:s.modelValue.value))u.value=k(u.value)?!0:!u.value;else{const o=[...s.modelValue.value||[]];if(x(o,e.value)){const $=o.findIndex(C=>I(C,e.value));o.splice($,1)}else o.push(e.value);s.modelValue.value=o}}const i=J(v),f=b(()=>{var o;return e.id&&v.value?(o=document.querySelector(`[for="${e.id}"]`))==null?void 0:o.innerText:void 0});return oe({disabled:m,state:t}),(o,$)=>{var C,q;return y(),h(U((C=a(s))!=null&&C.rovingFocus.value?a(ae):a(F)),S(o.$attrs,{id:o.id,ref:a(c),role:"checkbox","as-child":o.asChild,as:o.as,type:o.as==="button"?"button":void 0,"aria-checked":a(k)(t.value)?"mixed":t.value,"aria-required":o.required,"aria-label":o.$attrs["aria-label"]||f.value,"data-state":a(_)(t.value),"data-disabled":m.value?"":void 0,disabled:m.value,focusable:(q=a(s))!=null&&q.rovingFocus.value?!m.value:void 0,onKeydown:O(z(()=>{},["prevent"]),["enter"]),onClick:n}),{default:p(()=>[w(o.$slots,"default",{modelValue:a(u),state:t.value}),a(i)&&o.name&&!a(s)?(y(),h(a(G),{key:0,type:"checkbox",checked:!!t.value,name:o.name,value:o.value,disabled:m.value,required:o.required},null,8,["checked","name","value","disabled","required"])):N("",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"])}}}),le=V({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(l){const{forwardRef:r}=R(),e=te();return(d,c)=>(y(),h(a(E),{present:d.forceMount||a(k)(a(e).state.value)||a(e).state.value===!0},{default:p(()=>[g(a(F),S({ref:a(r),"data-state":a(_)(a(e).state.value),"data-disabled":a(e).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":d.asChild,as:d.as},d.$attrs),{default:p(()=>[w(d.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),be=V({__name:"Checkbox",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null]},disabled:{type:Boolean},value:{},id:{},asChild:{type:Boolean},as:{type:[String,Object,Function]},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(l,{emit:r}){const e=l,d=r,c=b(()=>{const{class:s,...u}=e;return u}),v=P(c,d);return(s,u)=>(y(),h(a(se),S({"data-slot":"checkbox"},a(v),{class:a(T)("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e.class)}),{default:p(()=>[g(a(le),{"data-slot":"checkbox-indicator",class:"flex items-center justify-center text-current transition-none"},{default:p(()=>[w(s.$slots,"default",{},()=>[g(a(H),{class:"size-3.5"})])]),_:3})]),_:3},16,["class"]))}});export{be as _};
