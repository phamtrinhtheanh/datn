import{_ as M}from"./MainLayout.vue_vue_type_script_setup_true_lang-CHGT2SaU.js";import{d as B,G,c as p,N as V,h as I,o as m,w as l,e as i,a as g,b as s,u as t,f as u,F as D,j as F,t as x,W as w,S as E}from"./app-DOxiRVIA.js";import{_ as L,a as q,b as W,c as v}from"./TableRow.vue_vue_type_script_setup_true_lang-CsPTr5ja.js";import{a as C,_ as y}from"./index-DUHd3xqt.js";import{_ as A,a as h}from"./TableHeader.vue_vue_type_script_setup_true_lang-IJLq94L7.js";import{_ as z}from"./Checkbox.vue_vue_type_script_setup_true_lang-B-0vyyiF.js";import{_ as H}from"./Input.vue_vue_type_script_setup_true_lang-Cq_l8LRK.js";import{c as N}from"./createLucideIcon-BjYozdgk.js";import{T as J}from"./trash-2-C8L-b4qH.js";import{b as K}from"./useForwardExpose-B_zO9qyG.js";import"./sun-CvG7_Tk4.js";import"./useForwardPropsEmits-BeNjkoCW.js";import"./DialogPortal-DRmpYFSE.js";import"./DialogTrigger-A-LbUmdT.js";import"./search-BOIz5PWB.js";import"./Sonner.vue_vue_type_script_setup_true_lang-lYdWObfB.js";import"./vue-sonner-C5tI8-Hn.js";import"./check-CEKJkTEg.js";import"./useFormControl-jIqDU8YA.js";import"./Collection-CCl91v5X.js";import"./usePrimitiveElement-COdbjRAo.js";import"./RovingFocusGroup-C6hHKZD7.js";import"./VisuallyHiddenInput-DogmaYfP.js";import"./VisuallyHidden-CIKPNANY.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=N("MinusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=N("PlusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),X={class:"container mx-auto px-4 py-8"},Y={key:0,class:"bg-background rounded-lg px-8 shadow"},Z={class:"flex items-center justify-center px-3 py-2"},Q={class:"flex items-center justify-center px-3 py-2"},ee={class:"flex items-center gap-4"},te=["src","alt"],se=["alt"],ae={class:"font-medium"},le={class:"flex items-center justify-center gap-2"},ne={class:"flex items-center justify-between border-t p-6"},ie={class:"text-muted-foreground text-sm"},oe={class:"flex items-center gap-4"},de={class:"text-md font-medium"},re={key:1,class:"rounded-lg border bg-white py-12 text-center shadow-sm"},ue={class:"flex flex-col items-center gap-4"},Me=B({__name:"Cart",setup(ce){const b=G(),d=p(()=>b.props.cart.data.items),c=p(()=>b.props.cart.data.products);p(()=>b.props.cart.data.total);const r=n=>d.value.findIndex(e=>e.product_id===n),o=V(new Set),$=p({get:()=>c.value.length>0&&o.size===c.value.length,set:n=>{n?c.value.forEach(e=>o.add(e.id)):o.clear()}}),j=p(()=>c.value.filter(n=>o.has(n.id)).reduce((n,e)=>{const a=d.value[r(e.id)];return n+e.price*a.quantity},0)),f=V({address1:null,state:null,city:null,zipcode:null,country_code:null,type:null});p(()=>f.address1!==null&&f.state!==null&&f.city!==null&&f.zipcode!==null&&f.country_code!==null&&f.type!==null);const S=(n,e)=>w.patch(route("cart.update",{product:n.id}),{quantity:e}),T=K((n,e)=>{S(n,e)},500),k=(n,e)=>{e<1&&(e=1);const a=d.value[r(n.id)];a.quantity=e,T(n,e)},P=n=>w.delete(route("cart.delete",{product:n.id}));function U(){if(o.size===0){alert("Please select at least one product");return}const n=c.value.filter(e=>o.has(e.id)).map(e=>({product_id:e.id,quantity:d.value[r(e.id)].quantity}));w.post(route("checkout.store"),{items:n})}return(n,e)=>(m(),I(M,null,{default:l(()=>[i("div",X,[c.value.length>0?(m(),g("div",Y,[e[6]||(e[6]=i("div",{class:"p-6"},[i("h2",{class:"text-xl font-semibold"},"Gi·ªè h√†ng c·ªßa b·∫°n")],-1)),i("div",null,[s(t(L),null,{default:l(()=>[s(t(A),null,{default:l(()=>[s(t(q),null,{default:l(()=>[s(t(h),{class:"w-[5%]"},{default:l(()=>[i("div",Z,[s(t(z),{modelValue:$.value,"onUpdate:modelValue":e[0]||(e[0]=a=>$.value=a)},null,8,["modelValue"])])]),_:1}),s(t(h),{class:"text-primary text-base font-bold"},{default:l(()=>e[1]||(e[1]=[u("S·∫£n ph·∫©m")])),_:1,__:[1]}),s(t(h),{class:"text-primary text-right text-base font-bold"},{default:l(()=>e[2]||(e[2]=[u("Gi√° b√°n")])),_:1,__:[2]}),s(t(h),{class:"text-primary text-center text-base font-bold"},{default:l(()=>e[3]||(e[3]=[u("S·ªë l∆∞·ª£ng")])),_:1,__:[3]}),s(t(h),{class:"text-primary text-right text-base font-bold"},{default:l(()=>e[4]||(e[4]=[u("Th√†nh ti·ªÅn")])),_:1,__:[4]}),s(t(h),{class:"w-[100px]"})]),_:1})]),_:1}),s(t(W),null,{default:l(()=>[(m(!0),g(D,null,F(c.value,a=>(m(),I(t(q),{key:a.id},{default:l(()=>[s(t(v),null,{default:l(()=>[i("div",Q,[s(t(z),{"model-value":o.has(a.id),"onUpdate:modelValue":_=>{_?o.add(a.id):o.delete(a.id)}},null,8,["model-value","onUpdate:modelValue"])])]),_:2},1024),s(t(v),null,{default:l(()=>[i("div",ee,[a.images.length>0?(m(),g("img",{key:0,src:a.images[0],alt:a.title,class:"h-16 w-16 rounded-md object-cover"},null,8,te)):(m(),g("img",{key:1,src:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/330px-No-Image-Placeholder.svg.png",alt:a.name,class:"h-16 w-16 rounded-md object-cover"},null,8,se)),i("span",ae,x(a.name),1)])]),_:2},1024),s(t(v),{class:"text-right"},{default:l(()=>[u(x(t(C)(a.price)),1)]),_:2},1024),s(t(v),{class:"w-1/5 text-center"},{default:l(()=>[i("div",le,[s(t(y),{variant:"outline",size:"icon",onClick:_=>k(a,d.value[r(a.id)].quantity-1),disabled:d.value[r(a.id)].quantity<=1},{default:l(()=>[s(t(O),{class:"h-4 w-4"})]),_:2},1032,["onClick","disabled"]),s(t(H),{type:"number","model-value":d.value[r(a.id)].quantity,"onUpdate:modelValue":_=>k(a,Number(_)),class:"w-20 text-center",min:"1"},null,8,["model-value","onUpdate:modelValue"]),s(t(y),{variant:"outline",size:"icon",onClick:_=>k(a,d.value[r(a.id)].quantity+1)},{default:l(()=>[s(t(R),{class:"h-4 w-4"})]),_:2},1032,["onClick"])])]),_:2},1024),s(t(v),{class:"w-1/10 text-right"},{default:l(()=>[u(x(t(C)(a.price*d.value[r(a.id)].quantity)),1)]),_:2},1024),s(t(v),{class:"w-1/10 text-center"},{default:l(()=>[s(t(y),{variant:"ghost",size:"icon",onClick:_=>P(a)},{default:l(()=>[s(t(J),{class:"text-destructive h-4 w-4"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),i("div",ne,[i("div",ie,"ƒê√£ ch·ªçn "+x(o.size)+" items",1),i("div",oe,[i("div",de,"T·ªïng c·ªông: "+x(t(C)(j.value)),1),s(t(y),{onClick:U,disabled:o.size===0},{default:l(()=>e[5]||(e[5]=[u(" Checkout ")])),_:1,__:[5]},8,["disabled"])])])])):(m(),g("div",re,[i("div",ue,[e[8]||(e[8]=i("div",{class:"text-4xl"},"üõí",-1)),e[9]||(e[9]=i("h3",{class:"text-lg font-medium"},"Gi·ªè h√†ng c·ªßa b·∫°n ƒëang tr·ªëng",-1)),e[10]||(e[10]=i("p",{class:"text-muted-foreground"},"C√≥ v·∫ª ch∆∞a c√≥ s·∫£n ph·∫©m n√†o trong gi·ªè h√†ng c·ªßa b·∫°n.",-1)),s(t(y),{"as-child":"",class:"mt-4"},{default:l(()=>[s(t(E),{href:n.route("home")},{default:l(()=>e[7]||(e[7]=[u(" Ti·∫øp t·ª•c mua h√†ng ")])),_:1,__:[7]},8,["href"])]),_:1})])]))])]),_:1}))}});export{Me as default};
