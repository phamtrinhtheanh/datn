import{d as T,x as B,h as D,o as _,w as r,e as a,b as s,t as l,u as e,f as n,l as O,a as u,i as p,s as f,S as j}from"./app-W8GsMJBJ.js";import{_ as G}from"./AppLayout.vue_vue_type_script_setup_true_lang-BNxxtcfI.js";import{_ as U}from"./index-BEoszeNT.js";import{_ as c}from"./Input.vue_vue_type_script_setup_true_lang-C6Fl9x3V.js";import{_ as m}from"./Label.vue_vue_type_script_setup_true_lang-D0qov6Wg.js";import{_ as I,a as M,b as z,c as E,d as C}from"./SelectValue.vue_vue_type_script_setup_true_lang-WkuGSJUD.js";import{_ as F}from"./Checkbox.vue_vue_type_script_setup_true_lang-C_hE--tF.js";import{_ as H,a as K}from"./CardContent.vue_vue_type_script_setup_true_lang-nNQH6HNA.js";import{_ as L,a as P}from"./CardTitle.vue_vue_type_script_setup_true_lang-Dy1tCsoG.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-CVVtsiq6.js";import"./createLucideIcon-JXjYXfiv.js";import"./useForwardExpose-BNEyOWp8.js";import"./useForwardPropsEmits-2WMn0-FV.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-C_Coj3rw.js";import"./DialogPortal-tXssuwl9.js";import"./Collection-CDJWPlyj.js";import"./usePrimitiveElement-KUrjtjuV.js";import"./useFocusGuards-MZn-G0EI.js";import"./RovingFocusGroup-DyX3UuXk.js";import"./VisuallyHidden-DCeC5BFu.js";import"./x-B2krrnJX.js";import"./shopping-cart-C0JeEcU3.js";import"./Sonner.vue_vue_type_script_setup_true_lang-Bt6qh3df.js";import"./vue-sonner-DemxavzC.js";import"./check-IZENxl5g.js";import"./useFormControl-DMEu9MKa.js";import"./VisuallyHiddenInput-CpwnCcUk.js";const q={class:"container mx-auto py-6"},A={class:"max-w-2xl mx-auto"},J={class:"text-2xl font-bold mb-6"},Q={class:"grid grid-cols-2 gap-4"},R={class:"space-y-2"},W={key:0,class:"text-sm text-red-600"},X={class:"space-y-2"},Y={key:0,class:"text-sm text-red-600"},Z={class:"grid grid-cols-2 gap-4"},ee={class:"space-y-2"},te={key:0,class:"text-sm text-red-600"},oe={class:"space-y-2"},se={key:0,class:"text-sm text-red-600"},re={class:"grid grid-cols-2 gap-4"},ae={class:"space-y-2"},de={key:0,class:"text-sm text-red-600"},ie={class:"space-y-2"},ne={class:"grid grid-cols-2 gap-4"},le={class:"space-y-2"},me={key:0,class:"text-sm text-red-600"},_e={class:"space-y-2"},ue={key:0,class:"text-sm text-red-600"},pe={class:"flex items-center space-x-2"},fe={class:"flex justify-end space-x-3"},Le=T({__name:"Form",props:{promotion:{type:Object,default:null}},setup(y){var v,x,V,g,b,k,$,h,S;const i=y,o=B({code:((v=i.promotion)==null?void 0:v.code)||"",name:((x=i.promotion)==null?void 0:x.name)||"",type:((V=i.promotion)==null?void 0:V.type)||"percentage",value:((g=i.promotion)==null?void 0:g.value)||0,min_order_amount:((b=i.promotion)==null?void 0:b.min_order_amount)||0,max_uses:((k=i.promotion)==null?void 0:k.max_uses)||void 0,start_date:($=i.promotion)!=null&&$.start_date?new Date(i.promotion.start_date).toISOString().slice(0,10):"",end_date:(h=i.promotion)!=null&&h.end_date?new Date(i.promotion.end_date).toISOString().slice(0,10):"",is_active:((S=i.promotion)==null?void 0:S.is_active)??!0}),w=()=>{i.promotion?o.put(route("admin.promotions.update",i.promotion.id)):o.post(route("admin.promotions.store"))};return route("admin.promotions.index"),i.promotion,(N,t)=>(_(),D(G,null,{default:r(()=>[a("div",q,[a("div",A,[a("h1",J,l(y.promotion?"Chỉnh sửa khuyến mãi":"Tạo khuyến mãi mới"),1),s(e(H),null,{default:r(()=>[s(e(L),null,{default:r(()=>[s(e(P),null,{default:r(()=>t[9]||(t[9]=[n("Thông tin khuyến mãi")])),_:1,__:[9]})]),_:1}),s(e(K),null,{default:r(()=>[a("form",{onSubmit:O(w,["prevent"]),class:"space-y-6"},[a("div",Q,[a("div",R,[s(e(m),{for:"code"},{default:r(()=>t[10]||(t[10]=[n("Mã khuyến mãi")])),_:1,__:[10]}),s(e(c),{id:"code",modelValue:e(o).code,"onUpdate:modelValue":t[0]||(t[0]=d=>e(o).code=d),class:f({"border-red-500":e(o).errors.code})},null,8,["modelValue","class"]),e(o).errors.code?(_(),u("div",W,l(e(o).errors.code),1)):p("",!0)]),a("div",X,[s(e(m),{for:"name"},{default:r(()=>t[11]||(t[11]=[n("Tên khuyến mãi")])),_:1,__:[11]}),s(e(c),{id:"name",modelValue:e(o).name,"onUpdate:modelValue":t[1]||(t[1]=d=>e(o).name=d),class:f({"border-red-500":e(o).errors.name})},null,8,["modelValue","class"]),e(o).errors.name?(_(),u("div",Y,l(e(o).errors.name),1)):p("",!0)])]),a("div",Z,[a("div",ee,[s(e(m),{for:"type"},{default:r(()=>t[12]||(t[12]=[n("Loại khuyến mãi")])),_:1,__:[12]}),s(e(I),{id:"type",modelValue:e(o).type,"onUpdate:modelValue":t[2]||(t[2]=d=>e(o).type=d),class:f({"border-red-500":e(o).errors.type})},{default:r(()=>[s(e(M),null,{default:r(()=>[s(e(z))]),_:1}),s(e(E),null,{default:r(()=>[s(e(C),{value:"percentage"},{default:r(()=>t[13]||(t[13]=[n("Phần trăm")])),_:1,__:[13]}),s(e(C),{value:"fixed_amount"},{default:r(()=>t[14]||(t[14]=[n("Số tiền cố định")])),_:1,__:[14]})]),_:1})]),_:1},8,["modelValue","class"]),e(o).errors.type?(_(),u("div",te,l(e(o).errors.type),1)):p("",!0)]),a("div",oe,[s(e(m),{for:"value"},{default:r(()=>t[15]||(t[15]=[n("Giá trị")])),_:1,__:[15]}),s(e(c),{id:"value",modelValue:e(o).value,"onUpdate:modelValue":t[3]||(t[3]=d=>e(o).value=d),type:"number",step:"0.01",class:f({"border-red-500":e(o).errors.value})},null,8,["modelValue","class"]),e(o).errors.value?(_(),u("div",se,l(e(o).errors.value),1)):p("",!0)])]),a("div",re,[a("div",ae,[s(e(m),{for:"min_order_amount"},{default:r(()=>t[16]||(t[16]=[n("Giá trị đơn hàng tối thiểu")])),_:1,__:[16]}),s(e(c),{id:"min_order_amount",modelValue:e(o).min_order_amount,"onUpdate:modelValue":t[4]||(t[4]=d=>e(o).min_order_amount=d),type:"number",step:"0.01",class:f({"border-red-500":e(o).errors.min_order_amount})},null,8,["modelValue","class"]),e(o).errors.min_order_amount?(_(),u("div",de,l(e(o).errors.min_order_amount),1)):p("",!0)]),a("div",ie,[s(e(m),{for:"max_uses"},{default:r(()=>t[17]||(t[17]=[n("Số lần sử dụng tối đa")])),_:1,__:[17]}),s(e(c),{id:"max_uses",modelValue:e(o).max_uses,"onUpdate:modelValue":t[5]||(t[5]=d=>e(o).max_uses=d),type:"number"},null,8,["modelValue"])])]),a("div",ne,[a("div",le,[s(e(m),{for:"start_date"},{default:r(()=>t[18]||(t[18]=[n("Ngày bắt đầu")])),_:1,__:[18]}),s(e(c),{id:"start_date",modelValue:e(o).start_date,"onUpdate:modelValue":t[6]||(t[6]=d=>e(o).start_date=d),type:"date",class:f({"border-red-500":e(o).errors.start_date})},null,8,["modelValue","class"]),e(o).errors.start_date?(_(),u("div",me,l(e(o).errors.start_date),1)):p("",!0)]),a("div",_e,[s(e(m),{for:"end_date"},{default:r(()=>t[19]||(t[19]=[n("Ngày kết thúc")])),_:1,__:[19]}),s(e(c),{id:"end_date",modelValue:e(o).end_date,"onUpdate:modelValue":t[7]||(t[7]=d=>e(o).end_date=d),type:"date",class:f({"border-red-500":e(o).errors.end_date})},null,8,["modelValue","class"]),e(o).errors.end_date?(_(),u("div",ue,l(e(o).errors.end_date),1)):p("",!0)])]),a("div",pe,[s(e(F),{id:"is_active",modelValue:e(o).is_active,"onUpdate:modelValue":t[8]||(t[8]=d=>e(o).is_active=d)},null,8,["modelValue"]),s(e(m),{for:"is_active"},{default:r(()=>t[20]||(t[20]=[n("Đang hoạt động")])),_:1,__:[20]})]),a("div",fe,[s(e(j),{href:N.route("admin.promotions.index")},{default:r(()=>[s(e(U),{variant:"outline"},{default:r(()=>t[21]||(t[21]=[n("Hủy")])),_:1,__:[21]})]),_:1},8,["href"]),s(e(U),{type:"submit",disabled:e(o).processing},{default:r(()=>[n(l(y.promotion?"Cập nhật":"Tạo mới"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1})])])]),_:1}))}});export{Le as default};
