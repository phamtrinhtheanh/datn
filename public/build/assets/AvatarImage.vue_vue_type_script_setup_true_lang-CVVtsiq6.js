import{c as B}from"./createLucideIcon-JXjYXfiv.js";import{P as g,c as k}from"./index-BEoszeNT.js";import{d as i,r as v,h as u,o as c,w as p,n as f,u as n,Q as S,i as b,c as L,A as E,B as I,m as R,k as x,H as P,c8 as z,s as F,p as A}from"./app-W8GsMJBJ.js";import{a as y,i as $}from"./useForwardExpose-BNEyOWp8.js";import{c as j}from"./useForwardPropsEmits-2WMn0-FV.js";const[M,q]=j("AvatarRoot"),T=i({__name:"AvatarRoot",props:{asChild:{type:Boolean},as:{default:"span"}},setup(e){return y(),q({imageLoadingStatus:v("idle")}),(a,s)=>(c(),u(n(g),{"as-child":a.asChild,as:a.as},{default:p(()=>[f(a.$slots,"default")]),_:3},8,["as-child","as"]))}}),D=i({__name:"AvatarFallback",props:{delayMs:{},asChild:{type:Boolean},as:{default:"span"}},setup(e){const a=e,s=M();y();const r=v(a.delayMs===void 0);return S(o=>{if(a.delayMs&&$){const l=window.setTimeout(()=>{r.value=!0},a.delayMs);o(()=>{window.clearTimeout(l)})}}),(o,l)=>r.value&&n(s).imageLoadingStatus.value!=="loaded"?(c(),u(n(g),{key:0,"as-child":o.asChild,as:o.as},{default:p(()=>[f(o.$slots,"default")]),_:3},8,["as-child","as"])):b("",!0)}});function w(e,a){return e?a?(e.src!==a&&(e.src=a),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function H(e,{referrerPolicy:a,crossOrigin:s}={}){const r=v(!1),o=v(null),l=L(()=>r.value?(!o.value&&$&&(o.value=new window.Image),o.value):null),m=v(w(l.value,e.value)),h=d=>()=>{r.value&&(m.value=d)};return E(()=>{r.value=!0,S(d=>{const t=l.value;if(!t)return;m.value=w(t,e.value);const _=h("loaded"),C=h("error");t.addEventListener("load",_),t.addEventListener("error",C),a!=null&&a.value&&(t.referrerPolicy=a.value),typeof(s==null?void 0:s.value)=="string"&&(t.crossOrigin=s.value),d(()=>{t.removeEventListener("load",_),t.removeEventListener("error",C)})})}),I(()=>{r.value=!1}),m}const N=i({__name:"AvatarImage",props:{src:{},referrerPolicy:{},crossOrigin:{},asChild:{type:Boolean},as:{default:"img"}},emits:["loadingStatusChange"],setup(e,{emit:a}){const s=e,r=a,{src:o,referrerPolicy:l,crossOrigin:m}=R(s);y();const h=M(),d=H(o,{referrerPolicy:l,crossOrigin:m});return x(d,t=>{r("loadingStatusChange",t),t!=="idle"&&(h.imageLoadingStatus.value=t)},{immediate:!0}),(t,_)=>P((c(),u(n(g),{role:"img","as-child":t.asChild,as:t.as,src:n(o),"referrer-policy":n(l)},{default:p(()=>[f(t.$slots,"default")]),_:3},8,["as-child","as","src","referrer-policy"])),[[z,n(d)==="loaded"]])}});/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=B("PackageIcon",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),J=i({__name:"Avatar",props:{class:{}},setup(e){const a=e;return(s,r)=>(c(),u(n(T),{"data-slot":"avatar",class:F(n(k)("relative flex size-8 shrink-0 overflow-hidden rounded-full",a.class))},{default:p(()=>[f(s.$slots,"default")]),_:3},8,["class"]))}}),K=i({__name:"AvatarFallback",props:{delayMs:{},asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(e){const a=e,s=L(()=>{const{class:r,...o}=a;return o});return(r,o)=>(c(),u(n(D),A({"data-slot":"avatar-fallback"},s.value,{class:n(k)("bg-muted flex size-full items-center justify-center rounded-full",a.class)}),{default:p(()=>[f(r.$slots,"default")]),_:3},16,["class"]))}}),X=i({__name:"AvatarImage",props:{src:{},referrerPolicy:{},crossOrigin:{},asChild:{type:Boolean},as:{type:[String,Object,Function]}},setup(e){const a=e;return(s,r)=>(c(),u(n(N),A({"data-slot":"avatar-image"},a,{class:"aspect-square size-full"}),{default:p(()=>[f(s.$slots,"default")]),_:3},16))}});export{G as P,J as _,X as a,K as b};
