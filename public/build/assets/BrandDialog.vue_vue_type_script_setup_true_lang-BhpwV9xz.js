import{d as v,c as y,x as k,k as $,h as C,o as i,w as o,b as r,u as s,e as p,f as _,t as l,a as f,i as T,l as E}from"./app-Cdi_seLk.js";import{_ as b}from"./index-Bi_qipny.js";import{_ as V}from"./Input.vue_vue_type_script_setup_true_lang-B-IRVU7u.js";import{_ as S}from"./Label.vue_vue_type_script_setup_true_lang-hFIdDLsU.js";import{_ as N,a as D,b as w,c as K}from"./DialogTitle.vue_vue_type_script_setup_true_lang-Yw55e2Ra.js";import{_ as U}from"./DialogFooter.vue_vue_type_script_setup_true_lang-CxCPgO28.js";import{K as c}from"./vue-sonner-CwCT7mN6.js";const j={class:"space-y-2"},B={key:0,class:"text-sm text-red-500"},F={key:0},H={key:1},J=v({__name:"BrandDialog",props:{show:Boolean,brand:{type:Object,default:()=>({})}},emits:["close"],setup(h,{emit:g}){const m=h,u=g,n=y(()=>{var a;return!!((a=m.brand)!=null&&a.id)}),e=k({name:""});$(()=>m.brand,a=>{a!=null&&a.id?e.name=a.name||"":(e.reset(),e.clearErrors())},{immediate:!0});const x=()=>{n.value?e.put(route("admin.brands.update",m.brand),{preserveScroll:!0,onSuccess:()=>{e.reset(),e.clearErrors(),c.success(n.value?"Thương hiệu đã được cập nhật thành công":"Thương hiệu đã được tạo thành công")},onError:()=>{c.error("Có lỗi xảy ra khi lưu thương hiệu")}}):e.post(route("admin.brands.store"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{u("close"),e.reset(),e.clearErrors(),c.success(n.value?"Thương hiệu đã được cập nhật thành công":"Thương hiệu đã được tạo thành công")},onError:()=>{c.error("Có lỗi xảy ra khi lưu thương hiệu")}})};return(a,t)=>(i(),C(s(K),{open:h.show,"onUpdate:open":t[2]||(t[2]=d=>u("close"))},{default:o(()=>[r(s(N),{class:"sm:max-w-[600px]"},{default:o(()=>[r(s(D),null,{default:o(()=>[r(s(w),{class:"text-xl"},{default:o(()=>[_(l(n.value?"Cập nhật thương hiệu":"Tạo mới thương hiệu"),1)]),_:1})]),_:1}),p("form",{onSubmit:E(x,["prevent"]),class:"space-y-6",enctype:"multipart/form-data"},[p("div",j,[r(s(S),{for:"name",class:"text-base"},{default:o(()=>t[3]||(t[3]=[_("Tên thương hiệu")])),_:1,__:[3]}),r(s(V),{id:"name",modelValue:s(e).name,"onUpdate:modelValue":t[0]||(t[0]=d=>s(e).name=d),disabled:s(e).processing,class:"h-10",autocomplete:"off"},null,8,["modelValue","disabled"]),s(e).errors.name?(i(),f("p",B,l(s(e).errors.name),1)):T("",!0)]),r(s(U),null,{default:o(()=>[r(s(b),{type:"button",variant:"outline",onClick:t[1]||(t[1]=d=>u("close")),disabled:s(e).processing,class:"h-10"},{default:o(()=>t[4]||(t[4]=[p("span",null,"Hủy bỏ",-1)])),_:1,__:[4]},8,["disabled"]),r(s(b),{type:"submit",disabled:s(e).processing,class:"h-10"},{default:o(()=>[s(e).processing?(i(),f("span",F,l(n.value?"Đang cập nhật...":"Đang tạo..."),1)):(i(),f("span",H,l(n.value?"Cập nhật":"Tạo mới"),1))]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"]))}});export{J as _};
