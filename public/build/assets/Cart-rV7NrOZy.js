import{_ as B}from"./MainLayout.vue_vue_type_script_setup_true_lang-CPRXMufV.js";import{d as G,G as D,c as h,N as V,Q as E,h as I,o as f,w as n,e as i,a as x,b as s,u as t,f as u,F,j as K,t as y,W as w,S as L}from"./app-CmJJduxX.js";import{_ as W,a as q,b as A,c as v}from"./TableRow.vue_vue_type_script_setup_true_lang-DTJcijSt.js";import{a as C,_ as b}from"./index-D8-AFNwL.js";import{_ as H,a as g}from"./TableHeader.vue_vue_type_script_setup_true_lang-C58Z7jsD.js";import{_ as z}from"./Checkbox.vue_vue_type_script_setup_true_lang-BcJm8B5R.js";import{_ as J}from"./Input.vue_vue_type_script_setup_true_lang-BnKsr0LL.js";import{K as N}from"./vue-sonner-DAmkgFkX.js";import{c as j}from"./createLucideIcon-CdlTwhfE.js";import{T as O}from"./trash-2-DhbdmbFX.js";import{b as R}from"./useForwardExpose-BM1jTi0X.js";import"./sun-Tclno5Du.js";import"./useForwardPropsEmits-D044zIqy.js";import"./DialogPortal-Bybb0N8i.js";import"./DialogTrigger-Ct1LDxN_.js";import"./search-C59MdXMc.js";import"./Sonner.vue_vue_type_script_setup_true_lang-l-Dfm-6H.js";import"./check-Bn4QJ5u6.js";import"./useFormControl-CDuwxkrt.js";import"./Collection-Cexjku1s.js";import"./usePrimitiveElement-hbI6zDTX.js";import"./RovingFocusGroup-32-9kDbx.js";import"./VisuallyHiddenInput-DJh-D3Mb.js";import"./VisuallyHidden-CtYPX-TC.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=j("MinusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=j("PlusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Z={class:"container mx-auto px-4 py-8"},Q={key:0,class:"bg-background rounded-lg px-8 shadow"},ee={class:"flex items-center justify-center px-3 py-2"},te={class:"flex items-center justify-center px-3 py-2"},se={class:"flex items-center gap-4"},ae=["src","alt"],le=["alt"],ne={class:"font-medium"},ie={class:"flex items-center justify-center gap-2"},oe={class:"flex items-center justify-between border-t p-6"},de={class:"text-muted-foreground text-sm"},re={class:"flex items-center gap-4"},ue={class:"text-md font-medium"},ce={key:1,class:"rounded-lg border bg-white py-12 text-center shadow-sm"},me={class:"flex flex-col items-center gap-4"},Ge=G({__name:"Cart",setup(fe){const c=D(),d=h(()=>c.props.cart.data.items),m=h(()=>c.props.cart.data.products);h(()=>c.props.cart.data.total);const r=l=>d.value.findIndex(e=>e.product_id===l),o=V(new Set),$=h({get:()=>m.value.length>0&&o.size===m.value.length,set:l=>{l?m.value.forEach(e=>o.add(e.id)):o.clear()}}),S=h(()=>m.value.filter(l=>o.has(l.id)).reduce((l,e)=>{const a=d.value[r(e.id)];return l+e.price*a.quantity},0)),p=V({address1:null,state:null,city:null,zipcode:null,country_code:null,type:null});h(()=>p.address1!==null&&p.state!==null&&p.city!==null&&p.zipcode!==null&&p.country_code!==null&&p.type!==null);const T=(l,e)=>w.patch(route("cart.update",{product:l.id}),{quantity:e}),P=R((l,e)=>{T(l,e)},500),k=(l,e)=>{e<1&&(e=1);const a=d.value[r(l.id)];a.quantity=e,P(l,e)},U=l=>w.delete(route("cart.delete",{product:l.id}));function M(){if(o.size===0){alert("Please select at least one product");return}const l=m.value.filter(e=>o.has(e.id)).map(e=>({product_id:e.id,quantity:d.value[r(e.id)].quantity}));w.post(route("checkout.store"),{items:l})}return E(()=>{var l,e;(l=c.props.flash)!=null&&l.success&&N.success(c.props.flash.success,{class:"text-lg"}),(e=c.props.flash)!=null&&e.error&&N.error(c.props.flash.error,{class:"text-lg"})}),(l,e)=>(f(),I(B,null,{default:n(()=>[i("div",Z,[m.value.length>0?(f(),x("div",Q,[e[6]||(e[6]=i("div",{class:"p-6"},[i("h2",{class:"text-xl font-semibold"},"Gi·ªè h√†ng c·ªßa b·∫°n")],-1)),i("div",null,[s(t(W),null,{default:n(()=>[s(t(H),null,{default:n(()=>[s(t(q),null,{default:n(()=>[s(t(g),{class:"w-[5%]"},{default:n(()=>[i("div",ee,[s(t(z),{modelValue:$.value,"onUpdate:modelValue":e[0]||(e[0]=a=>$.value=a)},null,8,["modelValue"])])]),_:1}),s(t(g),{class:"text-primary text-base font-bold"},{default:n(()=>e[1]||(e[1]=[u("S·∫£n ph·∫©m")])),_:1,__:[1]}),s(t(g),{class:"text-primary text-right text-base font-bold"},{default:n(()=>e[2]||(e[2]=[u("Gi√° b√°n")])),_:1,__:[2]}),s(t(g),{class:"text-primary text-center text-base font-bold"},{default:n(()=>e[3]||(e[3]=[u("S·ªë l∆∞·ª£ng")])),_:1,__:[3]}),s(t(g),{class:"text-primary text-right text-base font-bold"},{default:n(()=>e[4]||(e[4]=[u("Th√†nh ti·ªÅn")])),_:1,__:[4]}),s(t(g),{class:"w-[100px]"})]),_:1})]),_:1}),s(t(A),null,{default:n(()=>[(f(!0),x(F,null,K(m.value,a=>(f(),I(t(q),{key:a.id},{default:n(()=>[s(t(v),null,{default:n(()=>[i("div",te,[s(t(z),{"model-value":o.has(a.id),"onUpdate:modelValue":_=>{_?o.add(a.id):o.delete(a.id)}},null,8,["model-value","onUpdate:modelValue"])])]),_:2},1024),s(t(v),null,{default:n(()=>[i("div",se,[a.images.length>0?(f(),x("img",{key:0,src:a.images[0],alt:a.title,class:"h-16 w-16 rounded-md object-cover"},null,8,ae)):(f(),x("img",{key:1,src:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/330px-No-Image-Placeholder.svg.png",alt:a.name,class:"h-16 w-16 rounded-md object-cover"},null,8,le)),i("span",ne,y(a.name),1)])]),_:2},1024),s(t(v),{class:"text-right"},{default:n(()=>[u(y(t(C)(a.price)),1)]),_:2},1024),s(t(v),{class:"w-1/5 text-center"},{default:n(()=>[i("div",ie,[s(t(b),{variant:"outline",size:"icon",onClick:_=>k(a,d.value[r(a.id)].quantity-1),disabled:d.value[r(a.id)].quantity<=1},{default:n(()=>[s(t(X),{class:"h-4 w-4"})]),_:2},1032,["onClick","disabled"]),s(t(J),{type:"number","model-value":d.value[r(a.id)].quantity,"onUpdate:modelValue":_=>k(a,Number(_)),class:"w-20 text-center",min:"1"},null,8,["model-value","onUpdate:modelValue"]),s(t(b),{variant:"outline",size:"icon",onClick:_=>k(a,d.value[r(a.id)].quantity+1)},{default:n(()=>[s(t(Y),{class:"h-4 w-4"})]),_:2},1032,["onClick"])])]),_:2},1024),s(t(v),{class:"w-1/10 text-right"},{default:n(()=>[u(y(t(C)(a.price*d.value[r(a.id)].quantity)),1)]),_:2},1024),s(t(v),{class:"w-1/10 text-center"},{default:n(()=>[s(t(b),{variant:"ghost",size:"icon",onClick:_=>U(a)},{default:n(()=>[s(t(O),{class:"text-destructive h-4 w-4"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),i("div",oe,[i("div",de,"ƒê√£ ch·ªçn "+y(o.size)+" items",1),i("div",re,[i("div",ue,"T·ªïng c·ªông: "+y(t(C)(S.value)),1),s(t(b),{onClick:M,disabled:o.size===0},{default:n(()=>e[5]||(e[5]=[u(" Checkout ")])),_:1,__:[5]},8,["disabled"])])])])):(f(),x("div",ce,[i("div",me,[e[8]||(e[8]=i("div",{class:"text-4xl"},"üõí",-1)),e[9]||(e[9]=i("h3",{class:"text-lg font-medium"},"Gi·ªè h√†ng c·ªßa b·∫°n ƒëang tr·ªëng",-1)),e[10]||(e[10]=i("p",{class:"text-muted-foreground"},"C√≥ v·∫ª ch∆∞a c√≥ s·∫£n ph·∫©m n√†o trong gi·ªè h√†ng c·ªßa b·∫°n.",-1)),s(t(b),{"as-child":"",class:"mt-4"},{default:n(()=>[s(t(L),{href:l.route("home")},{default:n(()=>e[7]||(e[7]=[u(" Ti·∫øp t·ª•c mua h√†ng ")])),_:1,__:[7]},8,["href"])]),_:1})])]))])]),_:1}))}});export{Ge as default};
