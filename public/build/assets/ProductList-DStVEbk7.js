import{_ as g,a as G}from"./index-Bi_qipny.js";import{_ as M,a as O,b as U,c as $}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DbaRmOJN.js";import{_ as W}from"./Input.vue_vue_type_script_setup_true_lang-B-IRVU7u.js";import{_ as j,a as N,b as z,c as D,d as c}from"./SelectValue.vue_vue_type_script_setup_true_lang-C3bAROUO.js";import{_ as I,a as C,b as J,c as n}from"./TableRow.vue_vue_type_script_setup_true_lang-SjxQzQgy.js";import{_ as K,a as f}from"./TableHeader.vue_vue_type_script_setup_true_lang-CpmY8qAA.js";import{_ as B}from"./index-K0FVZKuS.js";import{_ as R}from"./AppLayout.vue_vue_type_script_setup_true_lang-IF2V6vrE.js";import{d as Q,r as V,k as X,W as _,c as Y,a as x,o as u,b as e,u as t,g as Z,w as l,e as a,f as r,h as S,F as b,j as E,t as m,s as tt}from"./app-Cdi_seLk.js";import{_ as et}from"./Label.vue_vue_type_script_setup_true_lang-hFIdDLsU.js";import{u as st}from"./useSmartPagination-BtckDVqn.js";import{S as lt,C as at}from"./search-CkzUw6yw.js";import{E as it}from"./ellipsis-vertical-Dx3XncN4.js";import{C as ot}from"./chevron-left-B4D76nsE.js";import"./useForwardPropsEmits-CcLnhiEM.js";import"./useForwardExpose-BEz30n0G.js";import"./DialogPortal-DyU5Youu.js";import"./Collection-DZ2PJz9c.js";import"./usePrimitiveElement-Bl6t-gbd.js";import"./useFocusGuards-DPvUNzkk.js";import"./RovingFocusGroup-BUD0FIFP.js";import"./check-BP9UBmzw.js";import"./createLucideIcon-Dvgbo__P.js";import"./VisuallyHidden-fcAHhEpi.js";import"./useFormControl-BtsRjYEG.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-DwzU_E9u.js";import"./x-Chvp1jPq.js";import"./shopping-cart-UQFKnvAk.js";import"./Sonner.vue_vue_type_script_setup_true_lang-ebLjZvkU.js";import"./vue-sonner-CwCT7mN6.js";const rt={class:"container mx-auto py-6"},dt={class:"mb-6 flex items-start justify-between"},nt={class:"mb-4 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},ut={class:"flex items-center gap-4"},mt={class:"flex w-full justify-end gap-4 sm:w-auto"},ft={class:"relative w-full max-w-xs"},_t={class:"absolute inset-y-0 left-0 flex items-center px-3"},pt={class:"overflow-hidden border-t border-b"},ct={class:"flex items-center justify-center px-3 py-3"},xt=["src"],gt={key:1,class:"border-sm h-10 w-10 rounded-sm bg-gray-100"},vt={class:"px-3 py-3"},yt=["onClick"],bt={class:"px-3 py-3"},wt={class:"px-3 py-3"},kt={class:"px-3 py-3"},ht={class:"px-3 py-3"},$t={class:"px-3 py-3"},Ct={class:"px-3 py-3"},Vt={class:"px-3 py-3"},St={class:"mt-6 flex flex-col items-center justify-between gap-4 sm:flex-row"},Tt={class:"text-muted-foreground text-sm"},jt={class:"flex items-center gap-1"},Nt={key:1,class:"text-muted-foreground px-2"},ne=Q({__name:"ProductList",props:{products:{type:Object,required:!0},filters:{type:Object,required:!0}},setup(d){const p=d,y=V(p.filters.search),w=V(p.filters.sort_field||"created_at"),k=V(p.filters.sort_direction||"desc");let h=null;X(y,o=>{h&&clearTimeout(h),h=setTimeout(()=>{o!==p.filters.search&&_.get(route("admin.products.index"),{search:o,sort_field:p.filters.sort_field,sort_direction:p.filters.sort_direction},{preserveState:!0})},500)});const L=()=>{_.get(route("admin.products.index"),{sort_field:w.value,sort_direction:k.value,search:y.value},{preserveState:!0})},P=o=>{confirm("Are you sure you want to delete this product?")&&_.delete(route("admin.products.destroy",{id:o.id}))},A=()=>{_.visit(route("admin.products.create"))},H=o=>{_.visit(route("admin.products.edit",{id:o.id}))},T=o=>{_.visit(route("admin.products.show",{id:o.id}))},q=st(p.products.links),F=Y(()=>p.products.data.map(o=>({...o,images:typeof o.images=="string"?JSON.parse(o.images||"[]"):Array.isArray(o.images)?o.images:[]})));return(o,s)=>(u(),x(b,null,[e(t(Z),{title:"Products"}),e(R,null,{default:l(()=>[a("div",rt,[a("div",dt,[s[6]||(s[6]=a("h1",{class:"mb-4 text-3xl font-extrabold"},"Sản phẩm",-1)),e(t(g),{onClick:A},{default:l(()=>s[5]||(s[5]=[r("Thêm sản phẩm")])),_:1,__:[5]})]),a("div",nt,[a("div",ut,[e(t(et),{class:""},{default:l(()=>s[7]||(s[7]=[r("Sắp xếp theo:")])),_:1,__:[7]}),e(t(j),{modelValue:w.value,"onUpdate:modelValue":s[0]||(s[0]=i=>w.value=i),class:"rounded shadow"},{default:l(()=>[e(t(N),{class:"w-[140px]"},{default:l(()=>[e(t(z))]),_:1}),e(t(D),null,{default:l(()=>[e(t(c),{value:"created_at"},{default:l(()=>s[8]||(s[8]=[r("Mới nhất")])),_:1,__:[8]}),e(t(c),{value:"price"},{default:l(()=>s[9]||(s[9]=[r("Giá")])),_:1,__:[9]}),e(t(c),{value:"sold"},{default:l(()=>s[10]||(s[10]=[r("Bán chạy")])),_:1,__:[10]}),e(t(c),{value:"stock"},{default:l(()=>s[11]||(s[11]=[r("Tồn kho")])),_:1,__:[11]}),e(t(c),{value:"rating"},{default:l(()=>s[12]||(s[12]=[r("Đánh giá")])),_:1,__:[12]})]),_:1})]),_:1},8,["modelValue"]),e(t(j),{modelValue:k.value,"onUpdate:modelValue":s[1]||(s[1]=i=>k.value=i),class:"w-[140px] rounded shadow"},{default:l(()=>[e(t(N),{class:"w-[140px]"},{default:l(()=>[e(t(z))]),_:1}),e(t(D),null,{default:l(()=>[e(t(c),{value:"asc"},{default:l(()=>s[13]||(s[13]=[r("Tăng dần")])),_:1,__:[13]}),e(t(c),{value:"desc"},{default:l(()=>s[14]||(s[14]=[r("Giảm dần")])),_:1,__:[14]})]),_:1})]),_:1},8,["modelValue"]),e(t(g),{onClick:L},{default:l(()=>s[15]||(s[15]=[r(" Áp dụng ")])),_:1,__:[15]})]),a("div",mt,[a("div",ft,[e(t(W),{type:"text",modelValue:y.value,"onUpdate:modelValue":s[2]||(s[2]=i=>y.value=i),placeholder:"Search...",class:"rounded-lg border border-gray-200 pl-10"},null,8,["modelValue"]),a("span",_t,[e(t(lt),{class:"text-muted-foreground size-5"})])])])]),a("div",pt,[e(t(I),{class:""},{default:l(()=>[e(t(K),{class:"text-primary"},{default:l(()=>[e(t(C),null,{default:l(()=>[e(t(f),{class:"text-primary w-[10%] text-center font-bold"},{default:l(()=>s[16]||(s[16]=[a("div",{class:"px-3 py-4"},"Ảnh",-1)])),_:1,__:[16]}),e(t(f),{class:"text-primary w-[20%] font-bold"},{default:l(()=>s[17]||(s[17]=[a("div",{class:"px-3 py-4"},"Sản phẩm",-1)])),_:1,__:[17]}),e(t(f),{class:"text-primary w-[10%] font-bold"},{default:l(()=>s[18]||(s[18]=[a("div",{class:"px-3 py-4"},"Danh mục",-1)])),_:1,__:[18]}),e(t(f),{class:"text-primary w-[10%] font-bold"},{default:l(()=>s[19]||(s[19]=[a("div",{class:"px-3 py-4"},"Thương hiệu",-1)])),_:1,__:[19]}),e(t(f),{class:"text-primary w-[10%] text-right font-bold"},{default:l(()=>s[20]||(s[20]=[a("div",{class:"px-3 py-4"},"Giá bán",-1)])),_:1,__:[20]}),e(t(f),{class:"text-primary w-[10%] text-right font-bold"},{default:l(()=>s[21]||(s[21]=[a("div",{class:"px-3 py-4"},"Đánh giá",-1)])),_:1,__:[21]}),e(t(f),{class:"text-primary w-[10%] text-right font-bold"},{default:l(()=>s[22]||(s[22]=[a("div",{class:"px-3 py-4"},"Đã bán",-1)])),_:1,__:[22]}),e(t(f),{class:"text-primary w-[10%] text-right font-bold"},{default:l(()=>s[23]||(s[23]=[a("div",{class:"px-3 py-4"},"Kho",-1)])),_:1,__:[23]}),e(t(f),{class:"text-primary w-[10%] text-right font-bold"},{default:l(()=>s[24]||(s[24]=[a("div",{class:"px-3 py-4"},"Hành động",-1)])),_:1,__:[24]})]),_:1})]),_:1}),e(t(J),null,{default:l(()=>[d.products.data.length===0?(u(),S(t(C),{key:0},{default:l(()=>[e(t(n),{colspan:"8"},{default:l(()=>s[25]||(s[25]=[a("div",{class:"px-3 py-4 text-center text-gray-500"},"No products found.",-1)])),_:1,__:[25]})]),_:1})):(u(!0),x(b,{key:1},E(F.value,i=>(u(),S(t(C),{key:i.id,class:"hover:bg-muted/30"},{default:l(()=>[e(t(n),{class:"text-center align-middle"},{default:l(()=>[a("div",ct,[i.images.length>0&&i.images[0]?(u(),x("img",{key:0,src:i.images[0],class:"h-10 w-10 rounded-sm object-cover",alt:"N/A"},null,8,xt)):(u(),x("div",gt))])]),_:2},1024),e(t(n),{class:"font-medium"},{default:l(()=>[a("div",vt,[a("a",{onClick:v=>T(i),class:"hover:text-primary cursor-pointer"},m(i.name),9,yt)])]),_:2},1024),e(t(n),null,{default:l(()=>[a("div",bt,[e(t(B),{variant:"outline",class:"border-yellow-200 bg-yellow-50 px-3 py-1 text-xs font-bold text-yellow-600"},{default:l(()=>[r(m(i.category.name),1)]),_:2},1024)])]),_:2},1024),e(t(n),{class:"text-left"},{default:l(()=>[a("div",wt,[e(t(B),{variant:"outline",class:"border-green-200 bg-green-50 px-3 py-1 text-xs font-bold text-green-600"},{default:l(()=>[r(m(i.brand.name),1)]),_:2},1024)])]),_:2},1024),e(t(n),{class:"w-[12%] text-right font-semibold"},{default:l(()=>[a("div",kt,m(t(G)(i.price)),1)]),_:2},1024),e(t(n),{class:"w-[12%] text-right font-semibold"},{default:l(()=>[a("div",ht,m(i.rating),1)]),_:2},1024),e(t(n),{class:"w-[12%] text-right font-semibold"},{default:l(()=>[a("div",$t,m(i.sold),1)]),_:2},1024),e(t(n),{class:"w-[12%] text-right font-semibold"},{default:l(()=>[a("div",Ct,m(i.stock),1)]),_:2},1024),e(t(n),{class:"w-[12%] text-right"},{default:l(()=>[a("div",Vt,[e(t(M),null,{default:l(()=>[e(t(O),{"as-child":""},{default:l(()=>[e(t(g),{variant:"ghost",size:"icon"},{default:l(()=>[e(t(it),{class:"h-4 w-4"})]),_:1})]),_:1}),e(t(U),{align:"end"},{default:l(()=>[e(t($),{onClick:v=>T(i)},{default:l(()=>s[26]||(s[26]=[r("View")])),_:2,__:[26]},1032,["onClick"]),e(t($),{onClick:v=>H(i)},{default:l(()=>s[27]||(s[27]=[r("Edit")])),_:2,__:[27]},1032,["onClick"]),e(t($),{onClick:v=>P(i),class:"text-red-500"},{default:l(()=>s[28]||(s[28]=[r("Delete")])),_:2,__:[28]},1032,["onClick"])]),_:2},1024)]),_:2},1024)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),a("div",St,[a("div",Tt," Hiển thị từ "+m(d.products.from)+" đến "+m(d.products.to)+" của "+m(d.products.total)+" kết quả ",1),a("div",jt,[e(t(g),{variant:"ghost",size:"icon",disabled:!d.products.prev_page_url,onClick:s[3]||(s[3]=i=>d.products.prev_page_url&&t(_).get(d.products.prev_page_url))},{default:l(()=>[e(t(ot),{class:"h-4 w-4"})]),_:1},8,["disabled"]),(u(!0),x(b,null,E(t(q),(i,v)=>(u(),x(b,{key:i.type==="ellipsis"?"ellipsis-"+v:"page-"+i.page},[i.type==="page"?(u(),S(t(g),{key:0,variant:"ghost",size:"sm",class:tt({"bg-primary text-primary-foreground":i.active}),onClick:zt=>t(_).get(i.url),innerHTML:i.label},null,8,["class","onClick","innerHTML"])):(u(),x("span",Nt,"..."))],64))),128)),e(t(g),{variant:"ghost",size:"icon",disabled:!d.products.next_page_url,onClick:s[4]||(s[4]=i=>d.products.next_page_url&&t(_).get(d.products.next_page_url))},{default:l(()=>[e(t(at),{class:"h-4 w-4"})]),_:1},8,["disabled"])])])])]),_:1})],64))}});export{ne as default};
