import{_ as C}from"./index-K0FVZKuS.js";import{_ as b}from"./index-Bi_qipny.js";import{_ as G,a as H,b as I,c as V}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DbaRmOJN.js";import{_ as K,a as w,b as L,c as r}from"./TableRow.vue_vue_type_script_setup_true_lang-SjxQzQgy.js";import{_ as X,a as f}from"./TableHeader.vue_vue_type_script_setup_true_lang-CpmY8qAA.js";import{_ as A}from"./AppLayout.vue_vue_type_script_setup_true_lang-IF2V6vrE.js";import{d as J,r as p,h as c,o as n,w as e,e as l,b as s,u as t,f as o,a as h,F as S,j as D,t as $,W as j}from"./app-Cdi_seLk.js";import{_ as M}from"./CategoryDialog.vue_vue_type_script_setup_true_lang-BE1zcady.js";import{_ as P}from"./Label.vue_vue_type_script_setup_true_lang-hFIdDLsU.js";import{_ as T,a as B,b as E,c as N,d}from"./SelectValue.vue_vue_type_script_setup_true_lang-C3bAROUO.js";import{E as Q}from"./ellipsis-vertical-Dx3XncN4.js";import"./useForwardExpose-BEz30n0G.js";import"./useForwardPropsEmits-CcLnhiEM.js";import"./DialogPortal-DyU5Youu.js";import"./Collection-DZ2PJz9c.js";import"./usePrimitiveElement-Bl6t-gbd.js";import"./useFocusGuards-DPvUNzkk.js";import"./RovingFocusGroup-BUD0FIFP.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-DwzU_E9u.js";import"./createLucideIcon-Dvgbo__P.js";import"./VisuallyHidden-fcAHhEpi.js";import"./x-Chvp1jPq.js";import"./shopping-cart-UQFKnvAk.js";import"./Sonner.vue_vue_type_script_setup_true_lang-ebLjZvkU.js";import"./vue-sonner-CwCT7mN6.js";import"./Input.vue_vue_type_script_setup_true_lang-B-IRVU7u.js";import"./Textarea.vue_vue_type_script_setup_true_lang-Cg_U4G-L.js";import"./useFormControl-BtsRjYEG.js";import"./VisuallyHiddenInput-Cwoffclv.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-Yw55e2Ra.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-CxCPgO28.js";import"./check-BP9UBmzw.js";const R={class:"container mx-auto py-6"},Y={class:"mb-6 flex items-start justify-between"},Z={class:"mb-4 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},tt={class:"flex items-center gap-4"},et={class:"overflow-hidden border-t border-b"},st={class:"px-3 py-3"},at={class:"px-3 py-3 flex flex-wrap gap-1"},lt={class:"px-3 py-3 text-center"},ot={class:"px-3 py-3"},zt=J({__name:"Index",props:{categories:{type:Object,required:!0},filters:{type:Object,required:!0}},setup(x){const k=x,u=p(!1),m=p(null),v=p(k.filters.sort_field||"name"),y=p(k.filters.sort_direction||"asc"),F=()=>{m.value=null,u.value=!0},q=_=>{m.value=_,u.value=!0},O=()=>{u.value=!1,m.value=null},U=_=>{confirm("Bạn có chắc chắn muốn xóa danh mục này?")&&j.delete(route("admin.categories.destroy",{id:_.id}))},W=()=>{j.get(route("admin.categories.index"),{sort_field:v.value,sort_direction:y.value},{preserveState:!0})};return(_,a)=>(n(),c(A,null,{default:e(()=>[l("div",R,[l("div",Y,[a[3]||(a[3]=l("h1",{class:"mb-4 text-3xl font-extrabold"},"Danh mục",-1)),s(t(b),{onClick:F},{default:e(()=>a[2]||(a[2]=[o("Thêm danh mục")])),_:1,__:[2]})]),l("div",Z,[l("div",tt,[s(t(P),{class:""},{default:e(()=>a[4]||(a[4]=[o("Sắp xếp theo:")])),_:1,__:[4]}),s(t(T),{modelValue:v.value,"onUpdate:modelValue":a[0]||(a[0]=i=>v.value=i),class:"rounded shadow"},{default:e(()=>[s(t(B),{class:"w-[180px]"},{default:e(()=>[s(t(E))]),_:1}),s(t(N),null,{default:e(()=>[s(t(d),{value:"name"},{default:e(()=>a[5]||(a[5]=[o("Tên danh mục")])),_:1,__:[5]}),s(t(d),{value:"products_count"},{default:e(()=>a[6]||(a[6]=[o("Số sản phẩm")])),_:1,__:[6]}),s(t(d),{value:"created_at"},{default:e(()=>a[7]||(a[7]=[o("Ngày tạo")])),_:1,__:[7]})]),_:1})]),_:1},8,["modelValue"]),s(t(T),{modelValue:y.value,"onUpdate:modelValue":a[1]||(a[1]=i=>y.value=i),class:"rounded shadow"},{default:e(()=>[s(t(B),{class:"w-[140px]"},{default:e(()=>[s(t(E))]),_:1}),s(t(N),null,{default:e(()=>[s(t(d),{value:"asc"},{default:e(()=>a[8]||(a[8]=[o("Tăng dần")])),_:1,__:[8]}),s(t(d),{value:"desc"},{default:e(()=>a[9]||(a[9]=[o("Giảm dần")])),_:1,__:[9]})]),_:1})]),_:1},8,["modelValue"]),s(t(b),{onClick:W},{default:e(()=>a[10]||(a[10]=[o(" Áp dụng ")])),_:1,__:[10]})])]),l("div",et,[s(t(K),{class:""},{default:e(()=>[s(t(X),{class:"text-primary"},{default:e(()=>[s(t(w),null,{default:e(()=>[s(t(f),{class:"text-primary w-[40%] font-bold"},{default:e(()=>a[11]||(a[11]=[l("div",{class:"px-3 py-4"},"Tên danh mục",-1)])),_:1,__:[11]}),s(t(f),{class:"text-primary w-[30%] font-bold"},{default:e(()=>a[12]||(a[12]=[l("div",{class:"px-3 py-4"},"Tags",-1)])),_:1,__:[12]}),s(t(f),{class:"text-primary w-[15%] font-bold"},{default:e(()=>a[13]||(a[13]=[l("div",{class:"px-3 py-4 text-center"},"Số sản phẩm",-1)])),_:1,__:[13]}),s(t(f),{class:"text-primary w-[15%] text-right font-bold"},{default:e(()=>a[14]||(a[14]=[l("div",{class:"px-3 py-4"},"Hành động",-1)])),_:1,__:[14]})]),_:1})]),_:1}),s(t(L),null,{default:e(()=>[x.categories.data.length===0?(n(),c(t(w),{key:0},{default:e(()=>[s(t(r),{colspan:"4"},{default:e(()=>a[15]||(a[15]=[l("div",{class:"px-3 py-4 text-center text-gray-500"},"Không tìm thấy danh mục nào.",-1)])),_:1,__:[15]})]),_:1})):(n(!0),h(S,{key:1},D(x.categories.data,i=>(n(),c(t(w),{key:i.id,class:"hover:bg-muted/30"},{default:e(()=>[s(t(r),{class:"font-medium"},{default:e(()=>[l("div",st,$(i.name),1)]),_:2},1024),s(t(r),null,{default:e(()=>[l("div",at,[(n(!0),h(S,null,D(i.tags,(g,z)=>(n(),c(t(C),{key:z,variant:"outline",class:"border-yellow-200 bg-yellow-50 px-3 py-1 text-xs font-bold text-yellow-600"},{default:e(()=>[o($(g),1)]),_:2},1024))),128))])]),_:2},1024),s(t(r),null,{default:e(()=>[l("div",lt,[s(t(C),{variant:"outline",class:"border-blue-200 bg-blue-50 px-3 py-1 text-xs font-bold text-blue-600"},{default:e(()=>[o($(i.products_count),1)]),_:2},1024)])]),_:2},1024),s(t(r),{class:"text-right"},{default:e(()=>[l("div",ot,[s(t(G),null,{default:e(()=>[s(t(H),{"as-child":""},{default:e(()=>[s(t(b),{variant:"ghost",size:"icon"},{default:e(()=>[s(t(Q),{class:"h-4 w-4"})]),_:1})]),_:1}),s(t(I),{align:"end"},{default:e(()=>[s(t(V),{onClick:g=>q(i)},{default:e(()=>a[16]||(a[16]=[o("Chỉnh sửa")])),_:2,__:[16]},1032,["onClick"]),s(t(V),{onClick:g=>U(i),class:"text-red-500"},{default:e(()=>a[17]||(a[17]=[o("Xóa")])),_:2,__:[17]},1032,["onClick"])]),_:2},1024)]),_:2},1024)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),s(M,{show:u.value,category:m.value,onClose:O},null,8,["show","category"])]),_:1}))}});export{zt as default};
