import{c as B}from"./createLucideIcon-BjYozdgk.js";import{P as g,c as w}from"./index-DUHd3xqt.js";import{d,r as v,h as u,o as i,w as p,n as f,u as n,T as S,i as b,c as L,A as x,B as E,m as I,k as R,H as P,c8 as z,s as F,p as A}from"./app-DOxiRVIA.js";import{a as y,i as $}from"./useForwardExpose-B_zO9qyG.js";import{c as j}from"./useForwardPropsEmits-BeNjkoCW.js";const[M,T]=j("AvatarRoot"),q=d({__name:"AvatarRoot",props:{asChild:{type:Boolean},as:{default:"span"}},setup(e){return y(),T({imageLoadingStatus:v("idle")}),(a,t)=>(i(),u(n(g),{"as-child":a.asChild,as:a.as},{default:p(()=>[f(a.$slots,"default")]),_:3},8,["as-child","as"]))}}),O=d({__name:"AvatarFallback",props:{delayMs:{},asChild:{type:Boolean},as:{default:"span"}},setup(e){const a=e,t=M();y();const o=v(a.delayMs===void 0);return S(s=>{if(a.delayMs&&$){const l=window.setTimeout(()=>{o.value=!0},a.delayMs);s(()=>{window.clearTimeout(l)})}}),(s,l)=>o.value&&n(t).imageLoadingStatus.value!=="loaded"?(i(),u(n(g),{key:0,"as-child":s.asChild,as:s.as},{default:p(()=>[f(s.$slots,"default")]),_:3},8,["as-child","as"])):b("",!0)}});function k(e,a){return e?a?(e.src!==a&&(e.src=a),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function D(e,{referrerPolicy:a,crossOrigin:t}={}){const o=v(!1),s=v(null),l=L(()=>o.value?(!s.value&&$&&(s.value=new window.Image),s.value):null),m=v(k(l.value,e.value)),h=c=>()=>{o.value&&(m.value=c)};return x(()=>{o.value=!0,S(c=>{const r=l.value;if(!r)return;m.value=k(r,e.value);const _=h("loaded"),C=h("error");r.addEventListener("load",_),r.addEventListener("error",C),a!=null&&a.value&&(r.referrerPolicy=a.value),typeof(t==null?void 0:t.value)=="string"&&(r.crossOrigin=t.value),c(()=>{r.removeEventListener("load",_),r.removeEventListener("error",C)})})}),E(()=>{o.value=!1}),m}const H=d({__name:"AvatarImage",props:{src:{},referrerPolicy:{},crossOrigin:{},asChild:{type:Boolean},as:{default:"img"}},emits:["loadingStatusChange"],setup(e,{emit:a}){const t=e,o=a,{src:s,referrerPolicy:l,crossOrigin:m}=I(t);y();const h=M(),c=D(s,{referrerPolicy:l,crossOrigin:m});return R(c,r=>{o("loadingStatusChange",r),r!=="idle"&&(h.imageLoadingStatus.value=r)},{immediate:!0}),(r,_)=>P((i(),u(n(g),{role:"img","as-child":r.asChild,as:r.as,src:n(s),"referrer-policy":n(l)},{default:p(()=>[f(r.$slots,"default")]),_:3},8,["as-child","as","src","referrer-policy"])),[[z,n(c)==="loaded"]])}});/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=B("PackageIcon",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),K=(e,a)=>{const t=e.__vccOpts||e;for(const[o,s]of a)t[o]=s;return t},Q=d({__name:"Avatar",props:{class:{}},setup(e){const a=e;return(t,o)=>(i(),u(n(q),{"data-slot":"avatar",class:F(n(w)("relative flex size-8 shrink-0 overflow-hidden rounded-full",a.class))},{default:p(()=>[f(t.$slots,"default")]),_:3},8,["class"]))}}),X=d({__name:"AvatarFallback",props:{delayMs:{},asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(e){const a=e,t=L(()=>{const{class:o,...s}=a;return s});return(o,s)=>(i(),u(n(O),A({"data-slot":"avatar-fallback"},t.value,{class:n(w)("bg-muted flex size-full items-center justify-center rounded-full",a.class)}),{default:p(()=>[f(o.$slots,"default")]),_:3},16,["class"]))}}),Y=d({__name:"AvatarImage",props:{src:{},referrerPolicy:{},crossOrigin:{},asChild:{type:Boolean},as:{type:[String,Object,Function]}},setup(e){const a=e;return(t,o)=>(i(),u(n(H),A({"data-slot":"avatar-image"},a,{class:"aspect-square size-full"}),{default:p(()=>[f(t.$slots,"default")]),_:3},16))}});export{J as P,Q as _,Y as a,X as b,K as c};
