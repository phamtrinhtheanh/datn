import{_ as w}from"./MainLayout.vue_vue_type_script_setup_true_lang-D4i8tk-0.js";import{d as k,h as u,o as d,w as s,e as o,a as g,i as c,b as e,u as t,f as l,F as B,j as T,t as r,s as z,S as E,W as p}from"./app-Cwc9LYHu.js";import{_ as L,a as x,b as N,c as m}from"./TableRow.vue_vue_type_script_setup_true_lang-CJoCs34V.js";import{_ as S,a as f}from"./TableHeader.vue_vue_type_script_setup_true_lang-DK6ijsJN.js";import{_}from"./index-y4m70pd7.js";import{_ as V}from"./index-DFC6OJMC.js";import{_ as j,a as H,b as O,c as b}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-B2156CCe.js";import{E as D}from"./ellipsis-vertical-C0bBJY4E.js";import{E as F}from"./eye-BCeTpepr.js";import{T as W}from"./trash-2-G_grSt0b.js";import{C as X}from"./chevron-left-CUc3g13b.js";import{C as q}from"./search-CRo4G1mf.js";import"./sun-CmC_ikMD.js";import"./createLucideIcon-Dy_Ob6gd.js";import"./useForwardPropsEmits-CXvHjQJT.js";import"./useForwardExpose-CS7qPF-2.js";import"./DialogPortal-JCx5xgQM.js";import"./DialogTrigger-Bf3stY9p.js";import"./Sonner.vue_vue_type_script_setup_true_lang-D-FqVR_5.js";import"./vue-sonner-YPBXOSHX.js";import"./Collection-mOg_gqw1.js";import"./usePrimitiveElement-DVngjByA.js";import"./useFocusGuards-CJDmPg0k.js";import"./RovingFocusGroup-Byt0jXbo.js";const M={class:"container px-4 mx-auto py-8"},R={class:"bg-white rounded-lg shadow px-8"},A={class:"p-6"},G={class:"relative overflow-x-auto border-y"},I={class:"px-4 py-3 text-base"},J={class:"flex items-center justify-end gap-2"},K={key:0,class:"mt-6 flex flex-col items-center justify-between gap-4 sm:flex-row"},P={class:"text-muted-foreground text-sm"},Q={class:"flex items-center gap-1"},Ct=k({__name:"Order",props:{orders:{},pagination:{}},setup(U){const h={pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",confirmed:"bg-green-100 text-green-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"},y={pending:"Chờ xử lý",processing:"Đang xử lý",confirmed:"Đã xác nhận",completed:"Hoàn thành",cancelled:"Đã hủy"},v=n=>{confirm("Bạn có chắc chắn muốn hủy đơn hàng này?")&&p.put(route("orders.cancel",n))},C=n=>{confirm("Bạn có chắc chắn muốn xóa đơn hàng này?")&&p.delete(route("orders.destroy",n))};return(n,a)=>(d(),u(w,null,{default:s(()=>[o("div",M,[o("div",R,[o("div",A,[a[10]||(a[10]=o("h2",{class:"text-xl font-semibold mb-6"},"Đơn hàng của tôi",-1)),o("div",G,[e(t(L),null,{default:s(()=>[e(t(S),null,{default:s(()=>[e(t(x),null,{default:s(()=>[e(t(f),{class:"text-primary text-base font-bold"},{default:s(()=>a[2]||(a[2]=[o("div",{class:"px-4 py-3"}," Mã đơn hàng ",-1)])),_:1,__:[2]}),e(t(f),{class:"text-primary text-base font-bold"},{default:s(()=>a[3]||(a[3]=[l("Trạng thái")])),_:1,__:[3]}),e(t(f),{class:"text-primary text-base font-bold"},{default:s(()=>a[4]||(a[4]=[l("Tổng tiền")])),_:1,__:[4]}),e(t(f),{class:"text-primary text-base font-bold"},{default:s(()=>a[5]||(a[5]=[l("Ngày tạo")])),_:1,__:[5]}),e(t(f),{class:"text-primary text-base font-bold text-right"},{default:s(()=>a[6]||(a[6]=[l("Thao tác")])),_:1,__:[6]})]),_:1})]),_:1}),e(t(N),null,{default:s(()=>[(d(!0),g(B,null,T(n.orders,i=>(d(),u(t(x),{key:i.id},{default:s(()=>[e(t(m),null,{default:s(()=>[o("div",I,r(i.order_number),1)]),_:2},1024),e(t(m),null,{default:s(()=>[e(t(V),{class:z([h[i.status],"flex items-center gap-1.5 px-1.5 py-0.5 text-xs"])},{default:s(()=>[l(r(y[i.status]),1)]),_:2},1032,["class"])]),_:2},1024),e(t(m),null,{default:s(()=>[l(r(i.total.toLocaleString())+"₫",1)]),_:2},1024),e(t(m),null,{default:s(()=>[l(r(new Date(i.created_at).toLocaleString()),1)]),_:2},1024),e(t(m),{class:"text-right"},{default:s(()=>[o("div",J,[i.status==="pending"||i.status==="processing"?(d(),u(t(_),{key:0,variant:"destructive",size:"sm",onClick:$=>v(i.id)},{default:s(()=>a[7]||(a[7]=[l(" Hủy đơn ")])),_:2,__:[7]},1032,["onClick"])):c("",!0),e(t(j),null,{default:s(()=>[e(t(H),{asChild:""},{default:s(()=>[e(t(_),{variant:"ghost",size:"icon"},{default:s(()=>[e(t(D),{class:"h-4 w-4"})]),_:1})]),_:1}),e(t(O),{align:"end"},{default:s(()=>[e(t(b),{asChild:""},{default:s(()=>[e(t(E),{href:n.route("orders.show",i.id),class:"flex items-center"},{default:s(()=>[e(t(F),{class:"mr-2 h-4 w-4"}),a[8]||(a[8]=o("span",null,"Xem chi tiết",-1))]),_:2,__:[8]},1032,["href"])]),_:2},1024),i.status==="cancelled"||i.status==="completed"?(d(),u(t(b),{key:0,onClick:$=>C(i.id),class:"text-red-500"},{default:s(()=>[e(t(W),{class:"mr-2 h-4 w-4"}),a[9]||(a[9]=o("span",null,"Xóa đơn hàng",-1))]),_:2,__:[9]},1032,["onClick"])):c("",!0)]),_:2},1024)]),_:2},1024)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),n.pagination?(d(),g("div",K,[o("div",P," Hiển thị từ "+r(n.pagination.from)+" đến "+r(n.pagination.to)+" của "+r(n.pagination.total)+" kết quả ",1),o("div",Q,[e(t(_),{variant:"ghost",size:"icon",disabled:n.pagination.current_page===1,onClick:a[0]||(a[0]=i=>t(p).get(n.route("orders.index",{page:n.pagination.current_page-1})))},{default:s(()=>[e(t(X),{class:"h-4 w-4"})]),_:1},8,["disabled"]),e(t(_),{variant:"ghost",size:"icon",disabled:n.pagination.current_page===n.pagination.last_page,onClick:a[1]||(a[1]=i=>t(p).get(n.route("orders.index",{page:n.pagination.current_page+1})))},{default:s(()=>[e(t(q),{class:"h-4 w-4"})]),_:1},8,["disabled"])])])):c("",!0)])])])]),_:1}))}});export{Ct as default};
